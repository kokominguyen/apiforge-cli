from apiforge.http import AsyncHTTPClient
from apiforge.auth import BearerAuth


class {{ class_name }}:
    def __init__(self, base_url: str, token: str | None = None):
        self.http = AsyncHTTPClient(base_url)
        self.auth = BearerAuth(token) if token else None

{% for ep in endpoints %}
    async def {{ ep.name }}(self, **params):
        headers = self.auth.headers() if self.auth else {}
        return await self.http.request(
            "{{ ep.method.upper() }}",
            "{{ ep.path }}",
            params=params,
            headers=headers
        )

{% endfor %}
